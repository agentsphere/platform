[advisories]
version = 2
ignore = [
    # proc-macro-error is unmaintained but pulled in transitively by rust-embed
    # via include-flate-codegen. No fix available upstream yet.
    "RUSTSEC-2024-0370",
    # paste is unmaintained â€” transitive dep from parquet. No alternative yet.
    "RUSTSEC-2024-0436",
]

[licenses]
version = 2
allow = [
    "MIT",
    "Apache-2.0",
    "Apache-2.0 WITH LLVM-exception",
    "BSD-2-Clause",
    "BSD-3-Clause",
    "0BSD",
    "ISC",
    "Zlib",
    "Unicode-3.0",
    "MPL-2.0",
    "OpenSSL",
    "CC0-1.0",
    "CDLA-Permissive-2.0",
]

[bans]
multiple-versions = "warn"
wildcards = "deny"
deny = [
    # webauthn-rs 0.5.x unconditionally depends on openssl for crypto ops.
    # v6.0 will switch to pure-Rust RustCrypto crates (in progress upstream).
    # TODO: restore unconditional ban once webauthn-rs 6.0 is released.
    { name = "openssl", wrappers = ["webauthn-rs-core", "webauthn-attestation-ca"] },
    { name = "openssl-sys", wrappers = ["openssl", "webauthn-rs-core", "webauthn-attestation-ca"] },
]

[sources]
unknown-registry = "deny"
unknown-git = "deny"
